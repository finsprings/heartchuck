See http://davidfindlay.org/weblog/files/2009-3-8-heartchuck.php